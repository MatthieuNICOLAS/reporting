* Journal de bord
** Semaine du <2016-09-12 lun.> au <2016-09-16 ven.>
*** Done
- Faire un état de l'art des mécanismes d'authentification
  - Différences entre OAuth et OpenID
    - OAuth est un protocole d'*autorisation*
    - Il permet à un utilisateur de donner accès à certaines données/actions de son compte à un service tiers
      - Exemple avec Google +
        - Récupérer les informations du profil
        - Récupérer les informations des cercles d'amis de l'utilisateur
        - Envoyer des mails au nom de l'utilisateur
      - Exemple avec GitHub
        - Récupérer les informations du profil
        - Accéder aux repos de l'utilisateur
        - Faire des commits en son nom
    - Il ne s'agit cependant pas d'un protocole d'*authentification*
      - On peut supposer que si Google ou GitHub nous donne accès au compte de l'utilisateur, c'est car ce dernier s'est authentifié correctement
      - Mais rien n'empêche un site ayant obtenu un code (car l'utilisateur a donné l'autorisation à ce dernier) d'utiliser ce code pour usurper l'identité de l'utilisateur sur un autre site
    - OpenID lui est un protocole d'*authentification*
      - Il permet seulement de vérifier l'identité d'un utilisateur
      - Il ne permet pas d'accéder à des données de son compte autre que celles du profil
    - OpenID Connect est un protocole basé sur OAuth 2.0 qui ajoute une couche d'authentification au protocole
    - Sources
      - http://security.stackexchange.com/questions/44611/difference-between-oauth-openid-and-openid-connect-in-very-simple-term
      - https://oauth.net/2/
      - https://en.wikipedia.org/wiki/OpenID
      - http://openid.net/connect/
      - http://www.thread-safe.com/2012/01/problem-with-oauth-for-authentication.html
  - Libraries/Frameworks
    - Pour OAuth2: https://oauth.net/code/
    - Pour OpenID Connect: http://openid.net/developers/libraries/
*** Planned
** Semaine du <2016-09-19 lun.> au <2016-09-23 ven.>
*** Done
- Faire un état de l'art des mécanismes d'authentification
  - Réalisation des slides
    - Disponibles ici : https://github.com/MatthieuNICOLAS/authentication-systems-2016-09-20/
  - Ajout des nouvelles sources : 
    - [[https://pdfs.semanticscholar.org/3733/2607f7a7ac8284c514845957fd00583e5614.pdf][Different Ways to Authenticate Users with the Pros and Cons of each Method]]
      - Bonne définition de l'*Authentification*.
      - Parle de l'authentification à facteurs multiples :
        - Passwords
        - Smart cards
        - X509 certificate
        - Biometrics
      - Présente les avantages et inconvénients ainsi que les vulnérabilités de chacune.
    - [[http://stackoverflow.com/questions/663402/what-are-the-differences-between-ldap-and-active-directory][What are the differences between LDAP and Active Directory?]]
      - Donne les définitions de *Directory Service*, *Active Directory* et *Lightweight Directory Access Protocol*
    - [[https://www.neustar.biz/blog/what-is-single-sign-on-deployment-pros-cons][The Pros & Cons of Implementing Single Sign-On]]
      - Explique les différences entre *Full Sign-On*, *Reduced Sign-On* et *Federated Logins*
    - [[https://tools.ietf.org/html/rfc6749][RFC 6749 - The OAuth 2.0 Authorization Framework]]
      - Description du protocole OAuth 2.0
    - [[http://wiki.oauth.net/w/page/27249271/OAuth%202%20for%20Native%20Apps][OAuth 2 for Native Apps]]
    - [[https://tools.ietf.org/html/draft-ietf-oauth-native-apps-03][Authorization Flow for Native Apps Using App-Claimed URI Schemes]]
    - [[http://nat.sakimura.org/2012/01/20/openid-connect-nutshell/][OpenID Connect in a nutshell]]
    - [[http://wiki.openid.net/w/page/12995171/Introduction][OpenID explaination]]
    - [[https://en.wikipedia.org/wiki/OAuth#/media/File:OpenIDvs.Pseudo-AuthenticationusingOAuth.svg][OpenID Authentication vs Pseudo-Authentication using OAuth]]
    - [[https://www.owasp.org/index.php/Authentication_Cheat_Sheet][Authentication Cheat Sheet]]
- Finaliser les slides sur les mécanismes d'authentification et les envoyer à TVPaint
  - Ajout de références vers les articles lus/utilisés et pouvant s'avérer utiles pour leur compréhension
  - Création d'un thread sur le forum de TVPaint pour linker les slides et les inviter à poser leurs questions
- MUTE : Implémenter le bot de traduction
  - Problème avec la librairie *mute-client*
    - *mute-client* embarque *AceEditorAdapter*
    - Ce code JS suppose que *AceEditor* est dans le scope
    - Ce n'est pas le cas dans le bot
- PLM : Activer Blockly
  - Modification du code de *GitActor* pour gérer les langages de programmation visuels
    - Stocker le code généré par l'outil de programmation visuel
    - Mais aussi stocker le /code visuel/
      - Pour pouvoir regénérer l'espace de travail de l'apprenant à sa prochaine connexion
  - Modification du code de *PLMActor* pour gérer les langages de programmation visuels
    - Envoi à *GitActor* le /code visuel/
    - Lors de la récupération de la session de l'utilisateur, on ne récupère pas le code de l'élève
      - Puisqu'il s'agit du code généré par l'outil de programmation visuel
        - Par exemple du code Python dans le cas de Blockly
    - Il faut récupérer plutôt le /code visuel/ pour regénérer l'espace de travail
    - Pour le moment, on se contente de renvoyer un /code visuel/ vide
  - Activation de Blockly
    - Création d'une instance de *LangBlockly*
    - Ajout de celle-ci dans les langages de programmation supportés
  - Modification du code pour gérer les exercices ne supportant pas Blockly
    - Passage automatique au langage de programmation par défaut si le langage courant n'est pas supporté
    - Affichage d'un message d'avertissement lorsque l'utilisateur essaie de passer à un langage non-supporté par l'exo courant
  - Mise à jour des sérialisation JSON des exercices
*** Planned
**** DONE Faire un état de l'art des mécanismes d'authentification
- Étudier les différents mécanismes existants et comment ils interagissent entre eux
  - SAML
  - SOAP
  - OAuth
  - OpenID
  - LDAP

**** DONE Finaliser les slides sur les mécanismes d'authentification et les envoyer à TVPaint
- J'ai noté quelques sources qui pourraient s'avérer utiles pour TVPaint
- Les ajouter aux slides
- Envoyer les slides à TVPaint
**** DONE PLM : Activer Blockly
- [[http://www.pentilanero.com/][Pentila]] m'a recontacté à propos de PLM
- Ils sont en train de travailler sur PLM pour voir comment ajouter de nouveaux exercices fonctionnant avec Blockly
- Sauf que j'ai désactivé Blockly lors du refactoring
- Activer de nouveau Blockly
- Vérifier son bon fonctionnement
** Semaine du <2016-09-26 lun.> au <2016-09-30 ven.>
*** Done
- TVPaint : Réviser les notions autour du *Business Process* et des *Workflows*
  - L'activité /Call/ est-elle utilisable ou à éviter ?
  - Que signifie la notion d'entité lorsqu'on parle de /Choreography/ ?
    - Similaire à la notion de /Pool/ ?
  - Différences entre /Choreography/ et /Collaboration/
    - Pourquoi utiliser l'un et pas l'autre ?
    - Formalisme différent, et la /Choreography/ fonctionne par le biais d'envoi de messages
  - Une /Choreography/ est-elle forcément entre 2 entités ?
    - Il n'y a jamais eu le besoin de définir une choréographie entre 3+ entités ?
    - Non, une /Choreography/ peut avoir lieu entre 3+ entités
- MUTE : Implémenter le bot de traduction
  - Ajout de la classe *TranslatorBot*
    - Instancie un *Bot* pour être pouvoir être ajouté au réseau
    - Instancie un *Coordinator* lors de son ajout au réseau
    - Écoute l'évènement /update/ du *Coordinator* pour déclencher l'opération de traduction
    - Écoute l'évènement /operations/ du *Coordinator* pour transmettre les opérations générées localement aux pairs 
    - Lors d'un /update/, parcourt le document pour trouver le texte à traduire
      - Le texte à traduire est délimité par les balises suivantes
        - /tl <langue source> <langue destination>
        - end/
    - Demande à *YandexTranslateService* de traduire le texte
    - Remplace le texte à traduire + balises par le résultat renvoyé par *YandexTranslateService*
  - Malheureusement, ce n'était pas le comportement attendu
    - On souhaite insérer une balise dans le document
    - Le bot doit
      - Récupérer le texte précédent cette balise
      - Le traduire
      - L'insérer après la balise
  - Implémentation de ce comportement
    - Ajout de *RealTimeTranslator*
    - Détecte le tag de l'utilisateur /rt
    - Le remplace par son propre tag
      - Cela lui permet de récupérer l'ID LogootSplit de ce tag
      - Cet ID est ensuite utilisé pour récupérer l'index du tag dans le document
    - Traduit le texte
      - Utilise /diff/ pour comparer l'ancienne traduction et la nouvelle
      - Permet de seulement mettre à jour les parties de la traduction concernées par les modifications du texte initial
- PLM : Corriger l'exécution du code de l'apprenant en Python
  - Le bug rencontré par Cédric n'est pas reproductible dans mon environnement de dev
  - Par contre, dans un container Docker basé sur l'image de webPLM, je rencontre une erreur lié à *JRuby*
    - Je n'inclus pas le jar de *JRuby* dans *PLM-engine*
  - Ajout de *JRuby* dans *PLM-engine*
    - Résous l'erreur lié à *JRuby*
  - Je rencontre dorénavant l'erreur reportée par Cédric
    - Cette erreur semble liée à la version de *Jython* utilisée
  - Mise à jour de *Jython*
  - Le plus troublant est que les juges arrivaient à exécuter du code Python
    - *JRuby* était correctement inclus dans le jar de *PLM* fourni aux juges
    - Mais ils auraient dû déclencher l'erreur liée à la version de *Jython*
*** Planned
**** DONE PLM : Corriger l'exécution du code de l'apprenant en Python
- Cédric de Pentila m'a contacté à propos des problèmes qu'il rencontre pour exécuter du code Python
- Il rencontre l'erreur suivante en essayant d'exécuter son programme Python
#+BEGIN_SRC
java.lang.NullPointerException
  at org.python.core.Py.recursiveIsInstance(Py.java:1861)
  at org.python.core.Py.isInstance(Py.java:1828)
  at org.python.core.__builtin__.isinstance(__builtin__.java:725)
  at org.python.core.Py.displayException(Py.java:1009)
  at org.python.core.PyException.printStackTrace(PyException.java:79)
  at org.python.core.PyException.toString(PyException.java:98)
  at java.lang.Throwable.<init>(Throwable.java:311)
  at java.lang.Exception.<init>(Exception.java:102)
  at javax.script.ScriptException.<init>(ScriptException.java:65)
  at org.python.jsr223.PyScriptEngine.scriptException(PyScriptEngine.java:192)
  at org.python.jsr223.PyScriptEngine.eval(PyScriptEngine.java:43)
  at org.python.jsr223.PyScriptEngine.eval(PyScriptEngine.java:33)
  at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:264)
  at plm.core.lang.ScriptingLanguage.runEntity(Unknown Source)
  at plm.core.model.lesson.ExerciseRunner$3.run(Unknown Source)
  at java.lang.Thread.run(Thread.java:745)
#+END_SRC
- Trouver l'origine de cette erreur et la résoudre
**** DONE MUTE : Implémenter le bot de traduction
- Dans le cadre de l'évaluation de l'équipe du 13 octobre, une démo de [[https://github.com/coast-team/mute-demo][MUTE]] est prévue
- L'idée est de mettre en avant la fonctionnalité des bots à l'aide d'un bot qui traduirait pour nous le document
- Le code du bot est disponible ici : https://github.com/coast-team/mute-bot-eve
- Analyser le document pour détecter les parties du document à traduire
- Interroger *Yandex* pour traduire le texte
- Remplacer le texte par sa traduction
**** DONE TVPaint : Réviser les notions autour du *Business Process* et des *Workflows*
- Nécessaire pour pouvoir mieux appréhender la tâche consistant à définir un process pour représenter le déroulement de la réalisation d'un film avec TVPaint
- Sources à utiliser:
  - http://webloria.loria.fr/~charoy/uploads/Main/BPM2pp.pdf
  - http://www.workflowpatterns.com/
  - http://fr.bonitasoft.com/ressources
** Semaine du <2016-10-03 lun.> au <2016-10-07 ven.>
*** Done
- TVPaint : Définir le business process correspondant à la réalisation d'un film
  - Quelques questions sont apparus au cours de la réalisation
    - Est-ce qu'il y a une phase de validation
      - Après la réalisation du storyboard
      - Après la réalisation de l'animatique
    - Est-ce que l'animatique et le storyboard se font de façon séquentielle ou parallèle?
    - Est-ce que l'animatique "modifie" le storyboard ou produit une nouvelle donnée?
    - Qui s'occupe de l'élaboration du layout du shot?
    - Est-ce que l'élaboration du layout du shot inclus le typage de chaque clip?
- PLM : Release d'une nouvelle version de PLM
  - Transfert des commits modifiant l'UI dans une branche distincte
  - Activation des leçons sur la récursivité
  - Correction du nom des fichiers de consignes pour l'exercice *Occurrences*
  - Correction de l'entité Java de l'exercice *IsMember*
  - Augmentation de la limite de temps d'exécution de PLM-judge
  - Release de webPLM:2.1.1 et de PLM-judge:2.1.1
- PLM : Corriger l'exécution de code Java
  - L'erreur ne semble se produire qu'en exécutant du code via les juges
  - L'erreur est liée à 2 morceaux de code
    - [[https://github.com/BuggleInc/PLM/blob/master/src/plm/core/lang/ProgrammingLanguage.java#L131-L139][ProgrammingLanguage.getProgrammingLanguage()]]
    - [[https://github.com/BuggleInc/PLM/blob/master/src/plm/core/model/lesson/BlankExercise.java#L26-L27][BlankExercise()]]
  - Lorsqu'on désérialise un exercice, on regénère les instances de *SourceFile* pour chaque langage de programmation
  - Ainsi, on instancie le *SourceFile* et on le stocke dans une *Map* en l'associant au *ProgrammingLanguage* retourné par /getProgrammingLanguage()/
  - Sauf que la fonction /getProgrammingLanguage()/ retourne une valeur par défaut s'il ne trouve pas de *ProgrammingLanguage* correspondant à la chaîne passée en paramètre
  - Du coup, lorsqu'on rencontre un *ProgrammingLanguage* inconnu, on remplace le *SourceFile* associé au langage par défaut par celui nouvellement créé
  - Ici, c'est *Blockly* qui n'est pas supporté par *PLM-judge* et qui pose problème
  - Ajout du support de *Blockly*
  - Ouverture d'une issue pour garder une trace du problème : https://github.com/BuggleInc/PLM/issues/477
- PLM : Corriger l'exercice Polygon360
  - L'erreur ne provient pas de la sérialisation JSON stockée
    - Supprimer la sérialisation de l'exercice et l'instancier depuis les sources ne corrige pas le problème
  - Le plus troublant est l'affichage du monde objectif
  - Une partie du polygone semble manquer dans le monde objectif
    #+CAPTION: Partie manquante du polygone
    #+NAME:   fig:polygon360-missingline.png
    [[file:img/polygon360-missingline.png]]
  - Représentation des lignes indiquées dans le message d'erreur
    #+CAPTION: Lignes posant problème
    #+NAME:   fig:polygon360-showlines.png
    [[file:img/polygon360-showlines.png]]
    - La ligne bleue correspond à la ligne manquante dans le monde objectif
    - La ligne rouge correspond à la ligne manquante dans le monde courant
  - On arrive à la même conclusion en listant les *Shapes* présentes dans chacun des mondes
    #+BEGIN_SRC
    // Lines of the current world with x1 or x2 > 262
    CurrentWorld: Line (x262,263 y127,117 / x263,445 y135,028 / black)
    CurrentWorld: Line (x262,923 y164,938 / x263,968 y154,996 / black)
    CurrentWorld: Line (x263,445 y135,028 / x264,177 y149,000 / black)

    // Lines of the answer world with x1 or x2 > 262
    AnswerWorld: Line (x262,263 y127,117 / x263,445 y135,028 / black)
    AnswerWorld: Line (x262,923 y164,938 / x263,968 y154,996 / black)
    AnswerWorld: Line (x263,968 y154,996 / x264,177 y149,000 / black)
    #+END_SRC
*** Planned
**** DONE PLM : Release une nouvelle version de PLM
- Pour le module de TOP à TN, les étudiants vont travailler sur PLM
- Les enseignements de ce module porte notamment sur la récursivité
- Les leçons correspondantes ne sont pas activées dans la version actuelle de la PLM
- Les activer et déployer la nouvelle version
**** DONE PLM : Corriger l'exécution de code Java
- Depuis la mise à jour, l'exécution du code Java génère une erreur
  #+BEGIN_SRC
  Compilation error: Environment.java:0:class, interface, or enum expected
  #+END_SRC
- Trouver l'origine de l'erreur et la corriger
** Semaine du <2016-10-10 lun.> au <2016-10-14 ven.>
*** Done
- TVPaint : Définir le business process correspondant à la réalisation d'un film
  - Ajout des phases de vérification pour
    - Le storyboard
    - L'animation
  - Ajout des données des formulaires
    - Création du film
    - Phases de vérification
  - Difficultés rencontrées
    - Bloque sur l'instanciation d'un *Storyboard* et d'une *Animation* à partir des fichiers soumis par les utilisateurs
    - Aussi des difficultés sur la multi-instanciation du process pour gérer un shot
      - On souhaite générer une instance du process pour chaque shot
      - La liste des shots se trouvent dans l'instance de *Film*
      - Mais je n'arrive pas accéder à la variable de process /movie/
      - Pour l'instant, je passe par une autre variable de process /shots/
    - Je n'arrive plus non plus à créer un type /enum/ avec Bonita Soft
  - Quelques questions sur le workflow
    - Que se passe-t-il/que fait-on si un shot ne passe pas la dernière étape de validation?
      - L'étape de validation concernée se trouve après l'activité /compositing/
      - Est-ce qu'elle ne sert qu'à valider cette activité ou elle sert à valider l'ensemble des clips?
  - Quelques questions sur les modèles de données
    - À quoi correspond le modèle de données *Scene* ?
    - Que contient le modèle de données *Animation* ?
- MUTE : Préparer la démo pour l'évaluation INRIA
  - Philippe a installé les différents composants de la démo sur les Raspberries et configuré les interfaces réseaux
  - Scénario :
    - Introduction
      - Au départ, seul MUTE est déployé
      - Le bot est démarré, mais il n'est pas encore relié au réseau
      - Gérald (qui projetera son écran) se connectera à un document pré-existant
      - Collaboration rapide pour montrer l'aspect temps réel
    - Ajout du bot
      - On le connecte au réseau
      - On l'invite dans l'édition collaborative
      - On l'active
      - On observe qu'il traduit le texte déjà existant et met ensuite à jour en temps réel (mais avec délai) la traduction
    - Sans serveur
      - On débranche la Raspberry correspondant au serveur
      - On observe que la collaboration fonctionne toujours
  - Texte à taper :
    #+BEGIN_QUOTE
    Pourquoi je veux vous réunir : pour vous ou pour moi?
    Evidemment pour moi, cela résoudrait tout pour moi ; j'en ai décidé ainsi depuis longtemps...
    On m'a raconté que votre soeur Adélaïde avait dit de mon portrait qu'avec une beauté pareille on pouvait bouleverser le monde.
    Mais j'ai renoncé au monde ; cela vous paraît drôle venant de moi, alors que vous me rencontrez couverte de bijoux et de dentelles en compagnie d'ivrognes et de scélérats?
    Ne faites pas attention à cela, je n'existe presque plus, et je le sais ; Dieu sait ce qui habite en moi à ma place.
    -- Dostoïevski dans son roman "Idiot"
    #+END_QUOTE
  - Répétition de la démo
- PLM : Release une image de NGINX pour le mode développement
  - Ajout d'un répertoire pour indiquer que la config actuelle est celle pour TELECOM Nancy
  - Modification de la configuration pour ajouter le reverse-proxy pour la queue de message
  - Ajout d'une autre configuration pour le mode développement
  - Génération des images Docker correspondantes
*** Planned
**** DONE PLM : Release une image de NGINX pour le mode développement
- Depuis le rework du protocole de communication avec les juges, NGINX est utilisé comme reverse-proxy pour accéder à la queue de message
  - Le port 15674 (utilisé par STOMP) n'est pas ouvert sur la machine de TN
  - NGINX permet d'accéder à ce port via un reverse-proxy
- Ceci empêche le docker-compose pour le mode développement de fonctionner correctement
  - Il ne met pas en place de NGINX
- Faire une image Docker de NGINX pour le développement
- Mettre à jour le docker-compose correspondant
**** DONE MUTE : Préparer la démo pour l'évaluation INRIA
- Tester l'environnement de la démo
- Établir le scénario de la démo
- Trouver un texte à taper et se le répartir
** Semaine du <2016-10-17 lun.> au <2016-10-21 ven.>
*** Done
- TVPaint : Définir le business process correspondant à la réalisation d'un film
  - De nouvelles questions sur le workflow
    - Est-ce que l'activité "Assignation outils/images" peut être entièrement automatisée ou pas?
- MUTE : Faire la roadmap du projet
  - La liste des tâches est disponible sur [[https://app.asana.com/][Asana]]
  - Définition des différentes étapes
    - v1: MUTE--
    - v2: Notepad equivalent
    - v3: Fourre-tout
  - Choix des technos
    - Angular 2
    - Angular Matérial 2
    - Ava
    - TSLint
*** Planned
**** DONE MUTE : Faire la roadmap du projet
- Pour répondre au besoin d'INRIA
- Lister les tâches à effectuer
- Les attribuer aux différentes étapes/versions du projet
- Établir le coût de chacune des tâches
**** DONE MUTE : Se former aux technologies choisies
- Lire [[https://books.ninja-squad.com/angular2][Become A Ninja With Angular 2]] et [[https://www.gitbook.com/book/basarat/typescript/details][TypeScript Deep Dive]]
** Semaines du <2016-11-14 lun.> au <2016-11-25 ven.>
*** Done
- MUTE : Développement de la nouvelle version de MUTE
  - Ajout de l'éditeur de texte *CodeMirror*
  - Création du modèle de données *LogootSRopes* du document
  - Détection des modifications de l'utilisateur et génération des *TextOperations* correspondantes
    - *TextInsert* et *TextDelete*
  - Mise à jour du modèle à partir de ces opérations textes
  - Envoi des *LogootSOperations* correspondantes aux modifications aux collaborateurs
  - Réception et ré-instantiation des *LogootSOperations*
  - Mise à jour du modèle à partir des opérations *LogootSplit*
  - Mise à jour de la vue du document
  - Passage à la nouvelle version de /Mute-structs/
  - Correction de bugs liées à la nouvelle version de /Mute-structs/
    - Suppression d'une boucle infinie dans la recherche d'un noeud
    - Correction des assertions effectuées lors des rotations
    - Correction des expressions permettant d'indiquer si l'on peut /append/ ou /prepend/ du texte à un bloc
** Semaine du <2016-11-28 lun.> au <2016-12-02 ven.>
*** Done
- TVPaint : Étudier comment collaborer dans un projet réalisé avec BonitaSoft
  - D'après [[http://community.bonitasoft.com/questions-and-answers/does-bonita-support-git-repository][ce topic]] et [[http://documentation.bonitasoft.com/6.x-7.2/workspaces-and-repositories-1][cette doc]], on ne peut pas partager un projet dans *Bonita* avec la version /Community/
  - La fonctionnalité est ajoutée dans la version /Subscription/
  - La doc ne semble disponible que pour SVN par contre
  - Et il manque les tarifs sur le site de *Bonita*, il faut prendre contact avec eux pour les obtenir
- MUTE : Développement du bot de stockage
  - Projet disponible [[https://github.com/coast-team/mute-bot-storage][ici]]
*** Planned
**** DONE TVPaint : Envoyer le travail effectué
**** DONE TVPaint : Étudier comment collaborer dans un projet réalisé avec BonitaSoft
- Voir si on peut partager avec Git
**** DONE MUTE : Développement du bot de stockage
** Semaine du <2016-12-05 lun.> au <2016-12-09 ven.>
*** Done
- MUTE : Lire l'article sur les barrières causales
  - Happened before relation
    - a -> b if a and b are events in the same process and a occured before b
    - a -> b if a is the event of sending a message M in a process and b is the event of delivery of the same message to another process
    - if a -> b and b -> c then a -> c
    - if a -/> b and b -/> a then a and b are said to be concurrent and represented as a || b
  - Reception != Delivery
    - Réception du message par le protocole de causal ordering
    - Livraison du message par le protocole de causal ordering à l'application
  - Destination set
    - Si on reçoit un message M2 ayant pour dépendance M1.
    - Si on a pas reçu M1 car on ne fait pas parti de son destination set, alors on peut le retirer de la liste des dépendances et délivrer M2.
  - Matrice Delivered
    - En local stocke et tient à jour matrice NxN Delivered tel que
      - Soit i le process courant, j et k 2 autres processes
      - Delivered(i)[j, k] = x indique que tous les messages de Pj à destination de Pk ayant une clock <= x ont été délivrés
	- Delivered(i) indique la matrice Delivered du process i
  - Vecteur CB
    - En local, maintien un vecteur CB de taille N de telle manière que si (k,x) appartiennent à CB(i)[j], cela implique que le prochain message de Pi à Pj devra être délivré uniquement après avoir reçu le Xième de Pk.
    - CB(i) = { j: { (process_id, counter), ... }, ... }
*** Planned
**** DONE MUTE : Lire l'article sur les barrières causales
- Maintenant que le bot de stockage est implémenté, on rencontre un problème lors de la synchronisation
- Si un utilisateur possède une version plus récente du document que le bot de stockage, celle-ci va se faire écraser lors de la synchronisation
- Alors qu'avec *LogootSplit*, on pourrait juste déterminer les opérations manquantes et synchroniser proprement les documents
- Dans un 1er temps on va implémenter un vecteur d'état pour déterminer les opérations manquantes
- Mais à terme, on pourra le remplacer par une barrière causale (ou mieux) pour optimiser le processus
- Se renseigner sur les barrières causales
**** TODO TVPaint : Étudier la gestion des ressources dans BonitaSoft
- Voir pour générer des rôles
- Voir pour générer des acteurs
- Voir comment attribuer les tâches
**** TODO TVPaint : Étudier comment interagir avec BonitaSoft par API
- Voir comment spécifier le début et la fin d'une tâche par API
**** TODO TVPaint : Définir le business process correspondant à la réalisation d'un film
- Le process a été décrit sommairement dans l'image suivante
  #+CAPTION: Réalisation d'un film
  #+NAME:   fig:WorkflowExample2.png
  [[file:img/WorkflowExample2.png]]
- Le réaliser sous *Bonita Studio*
  - Réfléchir aux données nécessaires
  - Voir comment représenter la réalisation des shots et des clips
**** TODO PLM : Gérer les exercices n'ayant pas d'entité solution dans le langage de programmation par défaut
- Actuellement, on considère que l'ensemble des exercices possèdent une entité solution en Java
- Lors de leur instanciation à partir des sources, on essaie de calculer le(s) monde(s) objectif(s) à partir de cette entité solution
- Ajouter un mécanisme de fallback vers un autre langage si l'entité solution Java n'est pas trouvée
- Déclencher une erreur si aucune entité solution n'est trouvée
**** TODO PLM : Ajouter des tests d'intégration pour vérifier la sérialisation JSON
- Semblerait que la sérialisation JSON foire de temps en temps
  - Le JSON généré ne contient pas les opérations de la solution
- Implémenter des tests d'intégration
  - Vérifier si la sérialisation JSON existe
  - Vérifier si la sérialisation JSON peut être désérialiser correctement
  - Vérifier si l'instance obtenue possède des opérations solutions
  - Vérifier si les opérations solutions permettent bien d'atteindre l'état objectif ?
    - Je ne suis pas sûr qu'on puisse rejouer les opérations côté serveur actuellement
**** TODO PLM : Corriger l'exercice Polygon360
- L'exercice Polygon360 ne peut pas être résolu actuellement
- Lorsqu'on soumet le code de la correction, on n'arrive pas à atteindre le monde objectif
  #+BEGIN_SRC
  Le monde 'Polygon360' diffère: x1 diffère. (trouvé Line (x263.445 y135.028 / x264.177 y149.000 / black) au lieu de Line (x263.968 y154.996 / x264.177 y149.000 / black) ) 
  #+END_SRC
- L'erreur a été reportée ici : https://github.com/BuggleInc/webPLM/issues/130
**** TODO PLM : Trouver l'origine du crash de webPLM du <2016-10-12 mer.>
- L'application a de nouveau eu un crash le <2016-10-12 mer.>, de 17:54 jusqu'à 18h:26
- Il a fallu que je redémarre manuellement le container de webPLM
  - Pour une raison inconnue, il n'arrivait pas à redémarrer correctement
  - Suppression du container et déploiement d'un nouveau
- Voici les métriques récupérées par New Relic au moment du crash
  #+CAPTION: Informations sur les transactions web au moment du crash
  #+NAME:   fig:transactions.png
  [[file:img/crash-webplm-2016-10-12T17:54/transactions.png]]
  #+CAPTION: Informations sur les ressources utilisées par le serveur au moment du crash
  #+NAME:   fig:server.png
  [[file:img/crash-webplm-2016-10-12T17:54/server.png]]
  #+CAPTION: Informations sur les ressources utilisées par les différents processus au moment du crash
  #+NAME:   fig:processes.png
  file:img/crash-webplm-2016-10-12T17:54/processes.png
  #+CAPTION: Informations sur les ressources utilisées par les différents containers au moment du crash
  #+NAME:   fig:dockers.png
  [[file:img/crash-webplm-2016-10-12T17:54/dockers.png]]
- Les logs ne montrent aucune erreur expliquant le crash, seulement des requêtes d'exécution
  #+BEGIN_SRC
  2016-10-12 15:53:11 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8700 - Received a message
  2016-10-12 15:53:11 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8700 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo", "exerciseID":"recursion.logo.koch.Koch","code":"def snowFlake (levels:Int, length:Double) {\n    snowSide(levels, length);\n    right(120);\n    setColor( Color.blue);\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.orange);\n    snowSide(levels, length);\n    right(120);\n}\ndef snowSide(levels:Int, length:Double) {\n  if(levels==0){\n    return;\n  }else{\n    avance(length);\n    snowSide(levels-1,length/3);\n  }\n}"}}
  2016-10-12 15:53:11 +0000 [ERROR] from application in ForkJoinPool-3-worker-15 - PLMActor: executionActor ? StartExecution timeout
  2016-10-12 15:53:12 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - Received a message
  2016-10-12 15:53:12 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - {"cmd":"getExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.koch.HexaKoch"}}
  2016-10-12 15:53:15 +0000 [ERROR] from application in ForkJoinPool-3-worker-23 - PLMActor: executionActor ? StartExecution timeout
  2016-10-12 15:53:15 +0000 [ERROR] from application in ForkJoinPool-3-worker-29 - PLMActor: executionActor ? StartExecution timeout
  2016-10-12 15:53:17 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8651 - Received a message
  2016-10-12 15:53:17 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8651 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.spiral.Spiral","code":"var length : Int = 5\n\nbaisseCrayon()\ndef spiral(steps:Int, angle:Int, length:Int, increment:Int) {\n avance(length)\n  gauche(45)\n  spiral(0,8, length+3, increment+1)\n  \n}"}}
  2016-10-12 15:53:18 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8695 - Received a message
  2016-10-12 15:53:18 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8695 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.koch.Koch","code":"def snowFlake (levels:Int, length:Double) {\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.blue);\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.orange);\n    snowSide(levels, length);\n    right(120);\n}\n\ndef snowSide(levels:Int, length:Double) \n{\n  \n  if(length == 0)\n  {\n    return;\n  }\n  \n  else\n  {\n    avance(200);\n  }\n  \n}"}}
  2016-10-12 15:53:22 +0000 [ERROR] from application in ForkJoinPool-3-worker-5 - PLMActor: executionActor ? StartExecution timeout
  2016-10-12 15:53:23 +0000 [ERROR] from application in ForkJoinPool-3-worker-1 - PLMActor: executionActor ? StartExecution timeout
  2016-10-12 15:53:23 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8692 - Received a message
  2016-10-12 15:53:23 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8692 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.koch.SquareKoch","code":"void snowSquare (int levels, double length) {\n    squareSide(levels, length);\n    right(90);\n    setColor(Color.blue);\n    squareSide(levels, length);\n    right(90);\n    setColor(Color.orange);\n    squareSide(levels, length);\n    right(90);\n    setColor(Color.magenta);\n    squareSide(levels, length);\n    right(90);\n}\nvoid squareSide(int levels, double length) {\n  if(levels==0){avance(length);}\n  else{\n    squareSide(levels-1,length/2);\n    gauche(90);\n    squareSide(levels-1,length/2);\n    droite(90);\n    squareSide(levels-1,length/2);\n    droite(90);\n    squareSide(levels-1,length/2);\n    gauche(90);\n    squareSide(levels-1,length/2);\n  }\n}"}}
  2016-10-12 15:53:24 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8695 - Received a message
  2016-10-12 15:53:24 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8695 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.koch.PentaKoch","code":"void pentaKoch(int levels, double length) {\n  if(levels==0){\n    avance(length);\n  }\n  else{\n  pentaKoch(levels-1,length*0.4);\n    left(180-(360/5);\n    pentaKoch(levels-1,length*0.4);\n    right(360/5);\n    pentaKoch(levels-1,length*0.4);\n    right(360/5);\n    pentaKoch(levels-1,length*0.4);\n    right(360/5);\n    pentaKoch(levels-1,length*0.4);\n    left(180-(360/5);\n    pentaKoch(levels-1,length*0.4);\n  }\n}"}}
  2016-10-12 15:53:25 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - Received a message
  2016-10-12 15:53:25 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.koch.Koch","code":"def snowFlake (levels:Int, length:Double) {\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.blue);\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.orange);\n    snowSide(levels, length);\n    right(120);\n}\ndef snowSide(levels:Int, length:Double) {\n  avance(length)\n  snowSide(levels, length)\n  right(120)\n  snowSide(levels, length)\n  right(120)\n  snowSide(levels, length)\n}"}}
  2016-10-12 15:53:27 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - Received a message
  2016-10-12 15:53:27 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - {"cmd":"runExercise","args":{"lessonID":"recursion.logo","exerciseID":"recursion.logo.koch.Koch","code":"def snowFlake (levels:Int, length:Double) {\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.blue);\n    snowSide(levels, length);\n    right(120);\n    setColor(Color.orange);\n    snowSide(levels, length);\n    right(120);\n}\ndef snowSide(levels:Int, length:Double) {\n  if(levels==0){\n    return;\n  }else{\n    avance(length);\n    snowSide(levels-1,length/3);\n  }\n}"}}
  2016-10-12 15:53:30 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - Received a message
  2016-10-12 15:53:30 +0000 [DEBUG] from application in application-akka.actor.default-dispatcher-8689 - {"cmd":"stopExecution","args":{}}
  2016-10-12 16:27:11 +0000 [INFO] from application in application-akka.actor.default-dispatcher-2 - Execution Mode: TRIBUNAL
  #+END_SRC
